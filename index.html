<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/a3059c425a.js" crossorigin="anonymous"></script>
    <title>Black Snake</title>
    <link rel="icon" href="https://cdn.discordapp.com/attachments/938527441222254609/939489773976961104/Unbenannt1.png">
</head>



<body>

    <div id="titlescreen">
        <h1>Black Snake</h1>

        <h2>SpielModi Auswahl</h2>
        <button onclick="playnormal()">Normal</button>
        <button onclick="playhard()">Schwierig</button>
        <button onclick="playexpert()">Experte</button>
        <button onclick="playimposible()">Unmöglich</button>
    </div>

    <script>

    </script>

    <canvas id="canvas" width="800" height="800"></canvas>

    <div id="score">
        <span>Score | 0</span>
    </div>

    <script>

            document.getElementById("canvas").style.visibility = "hidden";
            document.getElementById("score").style.visibility = "hidden";

            var mode;

            function playnormal() {
                document.getElementById("canvas").style.visibility = "visible";
                document.getElementById("score").style.visibility = "visible";
                document.getElementById("titlescreen").style.visibility = "hidden";
            

            let canvas = document.getElementById('canvas');
            let ctx = canvas.getContext('2d');
            let rows = 20;
            let cols = 20;
            let snake = [{
                x: 19,
                y: 3
            }];

            let food;

            let cellWidth = canvas.width / cols;
            let cellHeight = canvas.height / rows;
            let direction = 'LEFT';
            let foodCollected = false;
            let foodCollectednum = 0; 

            placeFood();
            setInterval(gameLoop, 100);
            document.addEventListener('keydown', keyDown);
            draw();

            function draw() {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = 'white';


                snake.forEach(part => add(part.x, part.y));

                ctx.fillStyle = 'yellow';
                add(food.x, food.y); // Food

                requestAnimationFrame(draw);
            }

            function testGameOver() {

                let firstPart = snake[0];
                let otherParts = snake.slice(1);
                let duplicatePart = otherParts.find(part => part.x == firstPart.x && part.y == firstPart.y);

                // 1. Schlange läuft gegen die Wand
                if (snake[0].x < 0 ||
                    snake[0].x > cols - 1 ||
                    snake[0].y < 0 ||
                    snake[0].y > rows - 1 ||
                    duplicatePart
                ) {
                    foodCollectednum = 0;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                    placeFood();
                    snake = [{
                        x: 19,
                        y: 3
                    }];
                    direction = 'LEFT';
                }

            }


            function placeFood() {
                let randomX = Math.floor(Math.random() * cols);
                let randomY = Math.floor(Math.random() * rows);

                food = {
                    x: randomX,
                    y: randomY
                };
            }

            function add(x, y) {
                ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth - 1, cellHeight - 1);
            }

            function shiftSnake() {
                for (let i = snake.length - 1; i > 0; i--) {
                    const part = snake[i];
                    const lastPart = snake[i - 1];
                    part.x = lastPart.x;
                    part.y = lastPart.y;
                }
            }

            function gameLoop() {
                testGameOver();
                if (foodCollected) {
                    snake = [{
                        x: snake[0].x,
                        y: snake[0].y
                    }, ...snake];


                    foodd = foodCollectednum

                    foodCollectednum = foodd + 1;
                    foodCollected = false;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                }

                shiftSnake();

                if (direction == 'LEFT') {
                    snake[0].x--;
                }

                if (direction == 'RIGHT') {
                    snake[0].x++;
                }

                if (direction == 'UP') {
                    snake[0].y--;
                }

                if (direction == 'DOWN') {
                    snake[0].y++;
                }

                if (snake[0].x == food.x &&
                    snake[0].y == food.y) {
                    foodCollected = true;

                    placeFood();
                }

            }

            function keyDown(e) {
                if (e.keyCode == 37) {
                    direction = 'LEFT';
                }
                if (e.keyCode == 38) {
                    direction = 'UP';
                }
                if (e.keyCode == 39) {
                    direction = 'RIGHT';
                }
                if (e.keyCode == 40) {
                    direction = 'DOWN';
                }
            }
        }

        function playhard() {
            document.getElementById("canvas").style.visibility = "visible";
                document.getElementById("score").style.visibility = "visible";
                document.getElementById("titlescreen").style.visibility = "hidden";
            

            let canvas = document.getElementById('canvas');
            let ctx = canvas.getContext('2d');
            let rows = 20;
            let cols = 20;
            let snake = [{
                x: 19,
                y: 3
            }];

            let food;

            let cellWidth = canvas.width / cols;
            let cellHeight = canvas.height / rows;
            let direction = 'LEFT';
            let foodCollected = false;
            let foodCollectednum = 0; 

            placeFood();
            setInterval(gameLoop, 70);
            document.addEventListener('keydown', keyDown);
            draw();

            function draw() {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = 'white';


                snake.forEach(part => add(part.x, part.y));

                ctx.fillStyle = 'yellow';
                add(food.x, food.y); // Food

                requestAnimationFrame(draw);
            }

            function testGameOver() {

                let firstPart = snake[0];
                let otherParts = snake.slice(1);
                let duplicatePart = otherParts.find(part => part.x == firstPart.x && part.y == firstPart.y);

                // 1. Schlange läuft gegen die Wand
                if (snake[0].x < 0 ||
                    snake[0].x > cols - 1 ||
                    snake[0].y < 0 ||
                    snake[0].y > rows - 1 ||
                    duplicatePart
                ) {
                    foodCollectednum = 0;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                    placeFood();
                    snake = [{
                        x: 19,
                        y: 3
                    }];
                    direction = 'LEFT';
                }

            }


            function placeFood() {
                let randomX = Math.floor(Math.random() * cols);
                let randomY = Math.floor(Math.random() * rows);

                food = {
                    x: randomX,
                    y: randomY
                };
            }

            function add(x, y) {
                ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth - 1, cellHeight - 1);
            }

            function shiftSnake() {
                for (let i = snake.length - 1; i > 0; i--) {
                    const part = snake[i];
                    const lastPart = snake[i - 1];
                    part.x = lastPart.x;
                    part.y = lastPart.y;
                }
            }

            function gameLoop() {
                testGameOver();
                if (foodCollected) {
                    snake = [{
                        x: snake[0].x,
                        y: snake[0].y
                    }, ...snake];


                    foodd = foodCollectednum

                    foodCollectednum = foodd + 1;
                    foodCollected = false;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                }

                shiftSnake();

                if (direction == 'LEFT') {
                    snake[0].x--;
                }

                if (direction == 'RIGHT') {
                    snake[0].x++;
                }

                if (direction == 'UP') {
                    snake[0].y--;
                }

                if (direction == 'DOWN') {
                    snake[0].y++;
                }

                if (snake[0].x == food.x &&
                    snake[0].y == food.y) {
                    foodCollected = true;

                    placeFood();
                }

            }

            function keyDown(e) {
                if (e.keyCode == 37) {
                    direction = 'LEFT';
                }
                if (e.keyCode == 38) {
                    direction = 'UP';
                }
                if (e.keyCode == 39) {
                    direction = 'RIGHT';
                }
                if (e.keyCode == 40) {
                    direction = 'DOWN';
                }
            }
        }

        function playexpert() {
            document.getElementById("canvas").style.visibility = "visible";
                document.getElementById("score").style.visibility = "visible";
                document.getElementById("titlescreen").style.visibility = "hidden";
            

            let canvas = document.getElementById('canvas');
            let ctx = canvas.getContext('2d');
            let rows = 20;
            let cols = 20;
            let snake = [{
                x: 19,
                y: 3
            }];

            let food;

            let cellWidth = canvas.width / cols;
            let cellHeight = canvas.height / rows;
            let direction = 'LEFT';
            let foodCollected = false;
            let foodCollectednum = 0; 

            placeFood();
            setInterval(gameLoop, 40);
            document.addEventListener('keydown', keyDown);
            draw();

            function draw() {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = 'white';


                snake.forEach(part => add(part.x, part.y));

                ctx.fillStyle = 'yellow';
                add(food.x, food.y); // Food

                requestAnimationFrame(draw);
            }

            function testGameOver() {

                let firstPart = snake[0];
                let otherParts = snake.slice(1);
                let duplicatePart = otherParts.find(part => part.x == firstPart.x && part.y == firstPart.y);

                // 1. Schlange läuft gegen die Wand
                if (snake[0].x < 0 ||
                    snake[0].x > cols - 1 ||
                    snake[0].y < 0 ||
                    snake[0].y > rows - 1 ||
                    duplicatePart
                ) {
                    foodCollectednum = 0;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                    placeFood();
                    snake = [{
                        x: 19,
                        y: 3
                    }];
                    direction = 'LEFT';
                }

            }


            function placeFood() {
                let randomX = Math.floor(Math.random() * cols);
                let randomY = Math.floor(Math.random() * rows);

                food = {
                    x: randomX,
                    y: randomY
                };
            }

            function add(x, y) {
                ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth - 1, cellHeight - 1);
            }

            function shiftSnake() {
                for (let i = snake.length - 1; i > 0; i--) {
                    const part = snake[i];
                    const lastPart = snake[i - 1];
                    part.x = lastPart.x;
                    part.y = lastPart.y;
                }
            }

            function gameLoop() {
                testGameOver();
                if (foodCollected) {
                    snake = [{
                        x: snake[0].x,
                        y: snake[0].y
                    }, ...snake];


                    foodd = foodCollectednum

                    foodCollectednum = foodd + 1;
                    foodCollected = false;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                }

                shiftSnake();

                if (direction == 'LEFT') {
                    snake[0].x--;
                }

                if (direction == 'RIGHT') {
                    snake[0].x++;
                }

                if (direction == 'UP') {
                    snake[0].y--;
                }

                if (direction == 'DOWN') {
                    snake[0].y++;
                }

                if (snake[0].x == food.x &&
                    snake[0].y == food.y) {
                    foodCollected = true;

                    placeFood();
                }

            }

            function keyDown(e) {
                if (e.keyCode == 37) {
                    direction = 'LEFT';
                }
                if (e.keyCode == 38) {
                    direction = 'UP';
                }
                if (e.keyCode == 39) {
                    direction = 'RIGHT';
                }
                if (e.keyCode == 40) {
                    direction = 'DOWN';
                }
            }
        }

        function playimposible() {
            document.getElementById("canvas").style.visibility = "visible";
                document.getElementById("score").style.visibility = "visible";
                document.getElementById("titlescreen").style.visibility = "hidden";
            

            let canvas = document.getElementById('canvas');
            let ctx = canvas.getContext('2d');
            let rows = 20;
            let cols = 20;
            let snake = [{
                x: 19,
                y: 3
            }];

            let food;

            let cellWidth = canvas.width / cols;
            let cellHeight = canvas.height / rows;
            let direction = 'LEFT';
            let foodCollected = false;
            let foodCollectednum = 0; 

            placeFood();
            setInterval(gameLoop, 30);
            document.addEventListener('keydown', keyDown);
            draw();

            function draw() {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = 'white';


                snake.forEach(part => add(part.x, part.y));

                ctx.fillStyle = 'yellow';
                add(food.x, food.y); // Food

                requestAnimationFrame(draw);
            }

            function testGameOver() {

                let firstPart = snake[0];
                let otherParts = snake.slice(1);
                let duplicatePart = otherParts.find(part => part.x == firstPart.x && part.y == firstPart.y);

                // 1. Schlange läuft gegen die Wand
                if (snake[0].x < 0 ||
                    snake[0].x > cols - 1 ||
                    snake[0].y < 0 ||
                    snake[0].y > rows - 1 ||
                    duplicatePart
                ) {
                    foodCollectednum = 0;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                    placeFood();
                    snake = [{
                        x: 19,
                        y: 3
                    }];
                    direction = 'LEFT';
                }

            }


            function placeFood() {
                let randomX = Math.floor(Math.random() * cols);
                let randomY = Math.floor(Math.random() * rows);

                food = {
                    x: randomX,
                    y: randomY
                };
            }

            function add(x, y) {
                ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth - 1, cellHeight - 1);
            }

            function shiftSnake() {
                for (let i = snake.length - 1; i > 0; i--) {
                    const part = snake[i];
                    const lastPart = snake[i - 1];
                    part.x = lastPart.x;
                    part.y = lastPart.y;
                }
            }

            function gameLoop() {
                testGameOver();
                if (foodCollected) {
                    snake = [{
                        x: snake[0].x,
                        y: snake[0].y
                    }, ...snake];


                    foodd = foodCollectednum

                    foodCollectednum = foodd + 1;
                    foodCollected = false;
                    document.getElementById('score').innerHTML = "Score | " + foodCollectednum
                }

                shiftSnake();

                if (direction == 'LEFT') {
                    snake[0].x--;
                }

                if (direction == 'RIGHT') {
                    snake[0].x++;
                }

                if (direction == 'UP') {
                    snake[0].y--;
                }

                if (direction == 'DOWN') {
                    snake[0].y++;
                }

                if (snake[0].x == food.x &&
                    snake[0].y == food.y) {
                    foodCollected = true;

                    placeFood();
                }

            }

            function keyDown(e) {
                if (e.keyCode == 37) {
                    direction = 'LEFT';
                }
                if (e.keyCode == 38) {
                    direction = 'UP';
                }
                if (e.keyCode == 39) {
                    direction = 'RIGHT';
                }
                if (e.keyCode == 40) {
                    direction = 'DOWN';
                }
            }
        }

        
    </script>

</body>

</html>

<style>


    body {
        background-color: #4158D0;
    }

    #canvas {
        position: absolute;
        left: 55vh;
        top: 9vh;
        background-color: #4158D0;
        background-image: linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%);
        border-radius: 20px;
        padding: 20px;
        margin: 10px;
    }

    #score {
        position: absolute;
        left: 87vh;
        top: 2vh;
        font-size: 6vh;
        color: white;
        font-family: "Avenir Next Condensed Medium", Calibri, "Gill Sans", sans-serif;
        font-weight: 600;
        filter: drop-shadow(0px 3px 6px rgba(153, 148, 148, 0.459));
    }

    
    /* <div class="titlescreen">
        <h1>Black Snake</h1>

        <h2>SpielModi Auswahl</h2>
        <button>Normal</button>
        <button>Schwierig</button>
        <button>Experte</button>
        <button>Unmöglich</button>
    </div> */

    * {
         user-select: none;
         user-zoom: none;
         -webkit-user-drag: none;
         -webkit-user-select: none;
    }

    #titlescreen {
        background: rgb(79,79,79);
        background: radial-gradient(circle, rgba(79,79,79,1) 8%, rgba(71,71,71,1) 23%, rgba(70,70,70,1) 37%, rgba(48,47,47,1) 54%, rgba(43,40,41,1) 60%, rgba(0,0,0,1) 100%);
        width: 50vh;
        height: 40vh;
        text-align: center;
        padding-top: 50px;
        border-radius: 20px;
        position: absolute;
        left: 74vh;
        top: 20vh;
        filter: drop-shadow(0px 1px 4px rgba(0, 0, 0, 1));
        border-bottom: 2px solid black;
        border-right: 2px solid black;
    }

    #titlescreen h1 {
        font-size: 4vh;
        color: white;
        font-family: "Avenir Next Condensed Medium", Calibri, "Gill Sans", sans-serif;
        font-weight: 600;
        filter: drop-shadow(0px 3px 6px rgba(153, 148, 148, 0.459));
    }

    #titlescreen h2 {
        font-size: 3vh;
        color: white;
        font-family: "Avenir Next Condensed Medium", Calibri, "Gill Sans", sans-serif;
        font-weight: 600;
        filter: drop-shadow(0px 3px 6px rgba(153, 148, 148, 0.459));
    }

    #titlescreen button {
        margin-top: 4vh;
        padding: 0.6vh;
        max-width: min-content;
        border: 1px solid black;
        border-radius: 1vh;
        margin-left: 1.4vh;
        color: white;
        font-family: "Avenir Next Condensed Medium", Calibri, "Gill Sans", sans-serif;
        font-weight: 400;
        background: rgb(107,107,107);
        background: radial-gradient(circle, rgba(107,107,107,1) 23%, rgba(52,52,52,1) 100%);
        transition: 0.3s;
        filter: drop-shadow(0px 1px 4px rgba(0, 0, 0, 1));
    }

    #titlescreen button:hover {
        padding: 0.7vh;
        font-size: 1.5vh;
        transition: 0.3s;
    }

</style>
